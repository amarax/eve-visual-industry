var We=Object.defineProperty,Je=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var me=(i,t,e)=>t in i?We(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,X=(i,t)=>{for(var e in t||(t={}))xe.call(t,e)&&me(i,e,t[e]);if(pe)for(var e of pe(t))$e.call(t,e)&&me(i,e,t[e]);return i},ne=(i,t)=>Je(i,Qe(t));import{V as x,W as he,C as re,X as ue,Y as et,S as tt,i as lt,s as it,e as R,c as B,a as w,d as b,f as S,t as D,g as T,D as d,h as P,G as Z,b as F,k as q,n as V,l as z,I as $,E as st,F as be,H as ae,T as ce,Z as ot,U as nt,K as rt}from"./vendor-c867dc14.js";import{b as ee}from"./paths-28a87002.js";async function fe(i,t){let e=new URL(`https://esi.evetech.net/${t&&t.dev?"dev":"latest"}${i}`);const l=await fetch(e.toString(),{method:"GET",headers:{accept:"application/json"}}),n=await l.json();if(l.ok){let o=l.headers.get("X-Pages");return o&&parseInt(o)>1&&console.log("More pages were available but not retrieved",e.toString()),n}return Promise.reject(l)}async function ut(){const i=await fetch(`${ee}/eve-sde/categories.json`,{method:"GET",headers:{accept:"application/json"}}),t=await i.json();return i.ok?t:Promise.reject(i)}async function at(){let i;try{i=await H("invMarketGroups")}catch(l){console.error(l)}let t={groups:{},groupTree:{}};i.forEach(l=>{t.groups[l.market_group_id]=l,l.types=[],l.parent_group_id=="None"&&delete l.parent_group_id});let e={};for(let l in t.groups){let n=t.groups[l];if(n.parent_group_id){let o=t.groups[n.parent_group_id];o.child_groups===void 0&&(o.child_groups={}),o.child_groups[l]=n}}for(let l in t.groups){let n=t.groups[l];n.parent_group_id===void 0&&(e[n.market_group_id]=n)}return t.groupTree=e,t}function H(i){let t=l=>({header:!0,dynamicTyping:!0,complete:async n=>{l(n.data)}}),e=`${ee}/eve-sde/${i}.csv`;return new Promise(l=>{he.parse(e,X({download:!0},t(l)))})}async function ct(i){return new Promise(t=>{he.parse(`${ee}/eve-sde/types.csv`,{download:!0,header:!0,dynamicTyping:!0,complete:async(e,l)=>{let n={};for(let o of e.data)o.published?(n[o.type_id]=o,o.market_group_id==="None"?delete o.market_group_id:i[o.market_group_id].types.push(o.type_id)):delete n[o.type_id];t(n)}})})}let te={},ye=!1;function ft(i){if(ye)return()=>{};const t={categories:null,types:te,markets:null};return i(t),ut().then(e=>{t.categories=e,i(t)}).catch(e=>{console.error(e)}),at().then(e=>{t.markets=e,i(t),ct(e.groups).then(l=>{te=l,t.types=te,i(t),ye=!0}).catch(l=>{console.error(l)})}).catch(e=>{console.error(e)}),()=>{}}async function Lt(i){try{let t=await fe(`/universe/types/${i}/`);return te[i]=t,t}catch(t){console.error(t)}}const dt=x({types:{}},ft);x({},_t);function _t(i){return i({attributes:null}),()=>{}}let le={};function pt(){const{subscribe:i,update:t}=re({});return{subscribe:i,update:e=>t(l=>{for(let n in e)l[n]===void 0&&(l[n]={}),Object.assign(l[n],e[n]);return l})}}const ve=pt();function ie(i){return 6e7<=i&&i<7e7}function Pt(i){return le[i]===void 0&&(ie(i)?le[i]=De(`/universe/stations/${i}/`):le[i]=mt(`/universe/structures/${i}/`)),le[i]}var ge;(function(i){i[i.loading=0]="loading",i[i.loaded=1]="loaded",i[i.error=2]="error"})(ge||(ge={}));function De(i,t){let e={status:0,subscribe:null};function l(o){return e.status!==1&&fe(i).then(s=>{t&&(s=t(s)),e.status=1,o(s)}).catch(s=>{e.status=2,o(null),console.error(s)}),()=>{}}const{subscribe:n}=re(null,l);return e.subscribe=n,e}function mt(i,t){let e={status:0,subscribe:null};function l(o){return e.status!==1&&fetch(`${ee}/esi-cache${i}index.json`).then(s=>s.ok?s.json():Promise.reject("Fetch failed")).then(s=>{t&&(s=t(s)),e.status=1,o(s)}).catch(s=>{e.status=2,o(null),console.error(s)}),()=>{}}const{subscribe:n}=re(null,l);return e.subscribe=n,e}let se=new Map,Te=x(se,i=>{se.size===0&&H("types").then(t=>{t=t.filter(e=>e.type_id),se=new Map(t.map(e=>[e.type_id,e])),i(se)})}),J=new Map;const Ft=ue(Te,(i,t)=>{J.clear(),i.forEach((e,l)=>{J.has(e.market_group_id)||J.set(e.market_group_id,[]),J.get(e.market_group_id).push(l)}),t(J)}),A=1,ht=8,U=11;let Ie=!1;function bt(i){if(Ie)return()=>{};let t={activities:{},types:{}};return H("ramActivities").then(e=>{e.filter(l=>l.activityID).forEach(l=>t.activities[l.activityID]=l)}).then(()=>H("industryActivity")).then(e=>{e.forEach(l=>{if(l.type_id===null)return;let n=t.types[l.type_id];n===void 0&&(n={type_id:l.type_id,activities:{}},t.types[l.type_id]=n),n.activities[l.activityID]={activity:t.activities[l.activityID],time:l.time,materials:{},products:{}}})}).then(()=>H("industryActivityMaterials")).then(e=>{e.forEach(l=>{if(l.typeID===null)return;let n=t.types[l.typeID];console.assert(n!==void 0,l);let o=n.activities[l.activityID].materials;console.assert(o instanceof Object),o[l.materialTypeID]={materialTypeID:l.materialTypeID,quantity:l.quantity}})}).then(()=>H("industryActivityProducts")).then(e=>{e.forEach(l=>{if(l.type_id===null)return;let n=t.types[l.type_id].activities[l.activityID];n.products[l.productTypeID]={type_id:l.productTypeID,quantity:l.quantity}})}).then(()=>H("industryActivityProbabilities")).then(e=>{e.forEach(l=>{if(l.typeID===null)return;let n=t.types[l.typeID].activities[l.activityID];n.products[l.productTypeID].probability=l.probability})}).then(()=>H("industryActivitySkills")).then(e=>{e.forEach(l=>{if(l.typeID===null)return;let n=t.types[l.typeID].activities[l.activityID];n.requiredSkills===void 0&&(n.requiredSkills={}),n.requiredSkills[l.skillID]={type_id:l.skillID,level:l.level}})}).then(()=>H("industryBlueprints")).then(e=>{e.forEach(l=>t.types[l.type_id].maxProductionLimit=l.maxProductionLimit),i(t),Ie=!0}).catch(e=>console.error(e)),i(t),()=>{}}const Ee=x(null,bt);function yt(i,t){return Object.values(i.types).find(e=>{var l;return(l=e.activities[A])==null?void 0:l.products[t]})}function At(i,t){return Object.values(i.types).find(e=>{var l;return(l=e.activities[ht])==null?void 0:l.products[t]})}const Ut=ue(dt,(i,t)=>(vt(i).then(e=>t(e)),()=>{}),{});async function vt(i){const t=1873;let e=Object.keys(i.types).filter(n=>i.types[n].market_group_id==t),l={};try{for(let n of e)l[n]=await fe(`/universe/types/${n}/`)}catch(n){console.error(n)}return l}const Gt=3388,gt=De("/industry/systems/"),Dt={manufacturing:1,researching_time_efficiency:3,researching_material_efficiency:4,copying:5,invention:8,reaction:11};function Tt(i,t,e){var l,n;return(n=(l=i==null?void 0:i.find(o=>{var s;return o.solar_system_id===((s=t==null?void 0:t.solar_system_id)!=null?s:t==null?void 0:t.system_id)}))==null?void 0:l.cost_indices.find(o=>Dt[o.activity]==e))==null?void 0:n.cost_index}function It(i,t){let e=Object.values(t.types).find(l=>{var n;return(n=l.activities[U])==null?void 0:n.products[i]});return{type:e,activity:e==null?void 0:e.activities[U]}}function Yt(i,t){var n,o,s;let e=(o=(n=et(kt))==null?void 0:n.get(i))==null?void 0:o.type,l;return e&&(l=((s=e.activities[A])==null?void 0:s.products[i])?e.activities[A]:e.activities[U]),{type:e,activity:l}}function qt(i,t){return yt(t,i)!=null||It(i,t).activity!=null}const Et=[A,U],kt=ue([Ee,Te],([i,t])=>{var l;let e=new Map;for(const n in i.types)!((l=t.get(parseInt(n)))==null?void 0:l.published)||Object.keys(i.types[n].activities).filter(o=>Et.includes(parseInt(o))).forEach(o=>{for(const s in i.types[n].activities[o].products)e.has(parseInt(s))&&console.warn("Product already produced in activity",s,i.types[n],o),e.set(parseInt(s),{type:i.types[n],activity:i.types[n].activities[o]})});return e});let Q="en-US";const ke={useGrouping:!0,maximumFractionDigits:2,minimumFractionDigits:2},Vt=new Intl.NumberFormat(Q,X({},ke)).format,Kt=new Intl.NumberFormat(Q,ne(X({},ke),{signDisplay:"always"})).format;let de=new Intl.NumberFormat(Q,{minimumIntegerDigits:2}).format;function Ht(i){let t=Math.ceil(i%60),e=Math.floor(i%(60*60)/60),l=Math.floor(i%(24*60*60)/(60*60)),n=Math.floor(i/(24*60*60)),o=`${de(l)}:${de(e)}:${de(t)}`;return n>0&&(o=`${n}d `+o),o}const Ce={style:"percent",minimumFractionDigits:3,maximumFractionDigits:3},oe=new Intl.NumberFormat(Q,X({},Ce)).format,Xt=new Intl.NumberFormat(Q,ne(X({},Ce),{signDisplay:"always"})).format;function Me(i,t,e){const l=i.slice();return l[27]=t[e],l}function Re(i,t,e){const l=i.slice();return l[27]=t[e],l}function Be(i,t,e){const l=i.slice();return l[27]=t[e],l}function je(i,t,e){const l=i.slice();return l[34]=t[e],l}function we(i){let t,e;return{c(){t=R("option"),this.h()},l(l){t=B(l,"OPTION",{}),w(t).forEach(b),this.h()},h(){t.__value=e=null,t.value=t.__value},m(l,n){S(l,t,n)},d(l){l&&b(t)}}}function Se(i){var o;let t,e=((o=i[34].name)!=null?o:i[34].location_id)+"",l,n;return{c(){t=R("option"),l=D(e),this.h()},l(s){t=B(s,"OPTION",{});var r=w(t);l=T(r,e),r.forEach(b),this.h()},h(){t.__value=n=i[34].location_id,t.value=t.__value},m(s,r){S(s,t,r),d(t,l)},p(s,r){var g;r[0]&1024&&e!==(e=((g=s[34].name)!=null?g:s[34].location_id)+"")&&P(l,e),r[0]&1024&&n!==(n=s[34].location_id)&&(t.__value=n,t.value=t.__value)},d(s){s&&b(t)}}}function Ne(i){let t,e=(i[5]?"+":"-")+"",l,n,o;return{c(){t=R("button"),l=D(e)},l(s){t=B(s,"BUTTON",{});var r=w(t);l=T(r,e),r.forEach(b)},m(s,r){S(s,t,r),d(t,l),n||(o=Z(t,"click",i[22]),n=!0)},p(s,r){r[0]&32&&e!==(e=(s[5]?"+":"-")+"")&&P(l,e)},d(s){s&&b(t),n=!1,o()}}}function Oe(i){let t,e,l,n,o,s=oe(i[1])+"",r,g,u,c=i[9].activityName+"",M,_,k,I,p=i[8]&&Le(i);return{c(){t=R("div"),e=R("dl"),l=R("dt"),n=D("System cost index"),o=R("dd"),r=D(s),g=R("dt"),u=D("Tax for "),M=D(c),_=R("dd"),k=D(i[3]),I=D("%"),p&&p.c(),this.h()},l(f){t=B(f,"DIV",{class:!0});var y=w(t);e=B(y,"DL",{});var v=w(e);l=B(v,"DT",{});var C=w(l);n=T(C,"System cost index"),C.forEach(b),o=B(v,"DD",{});var O=w(o);r=T(O,s),O.forEach(b),g=B(v,"DT",{});var E=w(g);u=T(E,"Tax for "),M=T(E,c),E.forEach(b),_=B(v,"DD",{});var a=w(_);k=T(a,i[3]),I=T(a,"%"),a.forEach(b),p&&p.l(v),v.forEach(b),y.forEach(b),this.h()},h(){F(t,"class","overlay")},m(f,y){S(f,t,y),d(t,e),d(e,l),d(l,n),d(e,o),d(o,r),d(e,g),d(g,u),d(g,M),d(e,_),d(_,k),d(_,I),p&&p.m(e,null)},p(f,y){y[0]&2&&s!==(s=oe(f[1])+"")&&P(r,s),y[0]&512&&c!==(c=f[9].activityName+"")&&P(M,c),y[0]&8&&P(k,f[3]),f[8]?p?p.p(f,y):(p=Le(f),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(f){f&&b(t),p&&p.d()}}}function Le(i){let t,e,l,n,o=i[2].materialConsumptionModifier+"",s,r,g=i[2].jobCostModifier+"",u,c,M=i[2].jobDurationModifier+"",_,k,I,p,f,y,v,C=i[4].timeReductionBonus+"",O,E,a=(i[7]===A||i[7]===U)&&Pe(i),m=i[7]!==A&&i[7]!==U&&Fe(i);return{c(){t=R("dt"),e=D("Structure role bonuses"),l=R("dd"),n=D("ME "),s=D(o),r=D("% | Cost "),u=D(g),c=D("% | TE "),_=D(M),k=D("%"),I=R("dt"),p=D("Structure rig bonuses"),f=R("dd"),a&&a.c(),y=q(),m&&m.c(),v=D(`\r
                | TE `),O=D(C),E=D("%"),this.h()},l(h){t=B(h,"DT",{class:!0});var N=w(t);e=T(N,"Structure role bonuses"),N.forEach(b),l=B(h,"DD",{class:!0});var L=w(l);n=T(L,"ME "),s=T(L,o),r=T(L,"% | Cost "),u=T(L,g),c=T(L,"% | TE "),_=T(L,M),k=T(L,"%"),L.forEach(b),I=B(h,"DT",{class:!0});var G=w(I);p=T(G,"Structure rig bonuses"),G.forEach(b),f=B(h,"DD",{class:!0});var K=w(f);a&&a.l(K),y=V(K),m&&m.l(K),v=T(K,`\r
                | TE `),O=T(K,C),E=T(K,"%"),K.forEach(b),this.h()},h(){F(t,"class","full-width"),F(l,"class","full-width"),F(I,"class","full-width"),F(f,"class","full-width")},m(h,N){S(h,t,N),d(t,e),S(h,l,N),d(l,n),d(l,s),d(l,r),d(l,u),d(l,c),d(l,_),d(l,k),S(h,I,N),d(I,p),S(h,f,N),a&&a.m(f,null),d(f,y),m&&m.m(f,null),d(f,v),d(f,O),d(f,E)},p(h,N){N[0]&4&&o!==(o=h[2].materialConsumptionModifier+"")&&P(s,o),N[0]&4&&g!==(g=h[2].jobCostModifier+"")&&P(u,g),N[0]&4&&M!==(M=h[2].jobDurationModifier+"")&&P(_,M),h[7]===A||h[7]===U?a?a.p(h,N):(a=Pe(h),a.c(),a.m(f,y)):a&&(a.d(1),a=null),h[7]!==A&&h[7]!==U?m?m.p(h,N):(m=Fe(h),m.c(),m.m(f,v)):m&&(m.d(1),m=null),N[0]&16&&C!==(C=h[4].timeReductionBonus+"")&&P(O,C)},d(h){h&&b(t),h&&b(l),h&&b(I),h&&b(f),a&&a.d(),m&&m.d()}}}function Pe(i){let t,e=i[4].materialReductionBonus+"",l,n;return{c(){t=D("ME "),l=D(e),n=D("%")},l(o){t=T(o,"ME "),l=T(o,e),n=T(o,"%")},m(o,s){S(o,t,s),S(o,l,s),S(o,n,s)},p(o,s){s[0]&16&&e!==(e=o[4].materialReductionBonus+"")&&P(l,e)},d(o){o&&b(t),o&&b(l),o&&b(n)}}}function Fe(i){let t,e=i[4].costReductionBonus+"",l,n;return{c(){t=D("Cost "),l=D(e),n=D("%")},l(o){t=T(o,"Cost "),l=T(o,e),n=T(o,"%")},m(o,s){S(o,t,s),S(o,l,s),S(o,n,s)},p(o,s){s[0]&16&&e!==(e=o[4].costReductionBonus+"")&&P(l,e)},d(o){o&&b(t),o&&b(l),o&&b(n)}}}function Ae(i){let t,e,l,n,o=oe(i[1])+"",s,r,g,u=i[9].activityName+"",c,M,_,k,I,p,f,y,v,C,O,E=i[8]&&Ue(i);return{c(){t=R("dl"),e=R("dt"),l=D("System cost index"),n=R("dd"),s=D(o),r=R("dt"),g=D("Tax for "),c=D(u),M=R("dd"),_=R("input"),y=q(),v=D(i[3]),E&&E.c(),this.h()},l(a){t=B(a,"DL",{});var m=w(t);e=B(m,"DT",{});var h=w(e);l=T(h,"System cost index"),h.forEach(b),n=B(m,"DD",{});var N=w(n);s=T(N,o),N.forEach(b),r=B(m,"DT",{});var L=w(r);g=T(L,"Tax for "),c=T(L,u),L.forEach(b),M=B(m,"DD",{});var G=w(M);_=B(G,"INPUT",{type:!0,min:!0,max:!0,step:!0}),y=V(G),v=T(G,i[3]),G.forEach(b),E&&E.l(m),m.forEach(b),this.h()},h(){F(_,"type","range"),F(_,"min",k=0),F(_,"max",I=20),F(_,"step",p=.5),_.value=i[3],_.disabled=f=ie(i[0])},m(a,m){S(a,t,m),d(t,e),d(e,l),d(t,n),d(n,s),d(t,r),d(r,g),d(r,c),d(t,M),d(M,_),d(M,y),d(M,v),E&&E.m(t,null),C||(O=Z(_,"input",i[12]),C=!0)},p(a,m){m[0]&2&&o!==(o=oe(a[1])+"")&&P(s,o),m[0]&512&&u!==(u=a[9].activityName+"")&&P(c,u),m[0]&8&&(_.value=a[3]),m[0]&1025&&f!==(f=ie(a[0]))&&(_.disabled=f),m[0]&8&&P(v,a[3]),a[8]?E?E.p(a,m):(E=Ue(a),E.c(),E.m(t,null)):E&&(E.d(1),E=null)},d(a){a&&b(t),E&&E.d(),C=!1,O()}}}function Ue(i){let t,e,l,n,o=i[2].materialConsumptionModifier+"",s,r,g=i[2].jobCostModifier+"",u,c,M=i[2].jobDurationModifier+"",_,k,I,p,f,y,v=(i[7]===A||i[7]===U)&&Ge(i),C=i[7]!==A&&i[7]!==U&&qe(i),O=i[14],E=[];for(let a=0;a<O.length;a+=1)E[a]=Ke(Me(i,O,a));return{c(){t=R("dt"),e=D("Structure role bonuses"),l=R("dd"),n=D("ME "),s=D(o),r=D("% | Cost "),u=D(g),c=D("% | TE "),_=D(M),k=D("%"),v&&v.c(),I=z(),C&&C.c(),p=R("dt"),f=D("Structure rig duration bonus"),y=R("dd");for(let a=0;a<E.length;a+=1)E[a].c()},l(a){t=B(a,"DT",{});var m=w(t);e=T(m,"Structure role bonuses"),m.forEach(b),l=B(a,"DD",{});var h=w(l);n=T(h,"ME "),s=T(h,o),r=T(h,"% | Cost "),u=T(h,g),c=T(h,"% | TE "),_=T(h,M),k=T(h,"%"),h.forEach(b),v&&v.l(a),I=z(),C&&C.l(a),p=B(a,"DT",{});var N=w(p);f=T(N,"Structure rig duration bonus"),N.forEach(b),y=B(a,"DD",{});var L=w(y);for(let G=0;G<E.length;G+=1)E[G].l(L);L.forEach(b)},m(a,m){S(a,t,m),d(t,e),S(a,l,m),d(l,n),d(l,s),d(l,r),d(l,u),d(l,c),d(l,_),d(l,k),v&&v.m(a,m),S(a,I,m),C&&C.m(a,m),S(a,p,m),d(p,f),S(a,y,m);for(let h=0;h<E.length;h+=1)E[h].m(y,null)},p(a,m){if(m[0]&4&&o!==(o=a[2].materialConsumptionModifier+"")&&P(s,o),m[0]&4&&g!==(g=a[2].jobCostModifier+"")&&P(u,g),m[0]&4&&M!==(M=a[2].jobDurationModifier+"")&&P(_,M),a[7]===A||a[7]===U?v?v.p(a,m):(v=Ge(a),v.c(),v.m(I.parentNode,I)):v&&(v.d(1),v=null),a[7]!==A&&a[7]!==U?C?C.p(a,m):(C=qe(a),C.c(),C.m(p.parentNode,p)):C&&(C.d(1),C=null),m[0]&16400){O=a[14];let h;for(h=0;h<O.length;h+=1){const N=Me(a,O,h);E[h]?E[h].p(N,m):(E[h]=Ke(N),E[h].c(),E[h].m(y,null))}for(;h<E.length;h+=1)E[h].d(1);E.length=O.length}},d(a){a&&b(t),a&&b(l),v&&v.d(a),a&&b(I),C&&C.d(a),a&&b(p),a&&b(y),$(E,a)}}}function Ge(i){let t,e,l,n,o=i[13],s=[];for(let r=0;r<o.length;r+=1)s[r]=Ye(Be(i,o,r));return{c(){t=R("dt"),e=D("Structure rig material bonus"),l=R("dd");for(let r=0;r<s.length;r+=1)s[r].c();n=q()},l(r){t=B(r,"DT",{});var g=w(t);e=T(g,"Structure rig material bonus"),g.forEach(b),l=B(r,"DD",{});var u=w(l);for(let c=0;c<s.length;c+=1)s[c].l(u);n=V(u),u.forEach(b)},m(r,g){S(r,t,g),d(t,e),S(r,l,g);for(let u=0;u<s.length;u+=1)s[u].m(l,null);d(l,n)},p(r,g){if(g[0]&8208){o=r[13];let u;for(u=0;u<o.length;u+=1){const c=Be(r,o,u);s[u]?s[u].p(c,g):(s[u]=Ye(c),s[u].c(),s[u].m(l,n))}for(;u<s.length;u+=1)s[u].d(1);s.length=o.length}},d(r){r&&b(t),r&&b(l),$(s,r)}}}function Ye(i){let t,e,l,n=i[27]+"",o,s,r,g;return{c(){t=R("label"),e=R("input"),l=q(),o=D(n),s=D("%"),this.h()},l(u){t=B(u,"LABEL",{});var c=w(t);e=B(c,"INPUT",{type:!0,name:!0}),l=V(c),o=T(c,n),s=T(c,"%"),c.forEach(b),this.h()},h(){F(e,"type","radio"),F(e,"name","MEBonus"),e.__value=i[27],e.value=e.__value,i[24][0].push(e)},m(u,c){S(u,t,c),d(t,e),e.checked=e.__value===i[4].materialReductionBonus,d(t,l),d(t,o),d(t,s),r||(g=Z(e,"change",i[23]),r=!0)},p(u,c){c[0]&16&&(e.checked=e.__value===u[4].materialReductionBonus)},d(u){u&&b(t),i[24][0].splice(i[24][0].indexOf(e),1),r=!1,g()}}}function qe(i){let t,e,l,n,o=i[15],s=[];for(let r=0;r<o.length;r+=1)s[r]=Ve(Re(i,o,r));return{c(){t=R("dt"),e=D("Structure rig cost bonus"),l=R("dd");for(let r=0;r<s.length;r+=1)s[r].c();n=q()},l(r){t=B(r,"DT",{});var g=w(t);e=T(g,"Structure rig cost bonus"),g.forEach(b),l=B(r,"DD",{});var u=w(l);for(let c=0;c<s.length;c+=1)s[c].l(u);n=V(u),u.forEach(b)},m(r,g){S(r,t,g),d(t,e),S(r,l,g);for(let u=0;u<s.length;u+=1)s[u].m(l,null);d(l,n)},p(r,g){if(g[0]&32784){o=r[15];let u;for(u=0;u<o.length;u+=1){const c=Re(r,o,u);s[u]?s[u].p(c,g):(s[u]=Ve(c),s[u].c(),s[u].m(l,n))}for(;u<s.length;u+=1)s[u].d(1);s.length=o.length}},d(r){r&&b(t),r&&b(l),$(s,r)}}}function Ve(i){let t,e,l,n=i[27]+"",o,s,r,g;return{c(){t=R("label"),e=R("input"),l=q(),o=D(n),s=D("%"),this.h()},l(u){t=B(u,"LABEL",{});var c=w(t);e=B(c,"INPUT",{type:!0,name:!0}),l=V(c),o=T(c,n),s=T(c,"%"),c.forEach(b),this.h()},h(){F(e,"type","radio"),F(e,"name","CostBonus"),e.__value=i[27],e.value=e.__value,i[24][1].push(e)},m(u,c){S(u,t,c),d(t,e),e.checked=e.__value===i[4].costReductionBonus,d(t,l),d(t,o),d(t,s),r||(g=Z(e,"change",i[25]),r=!0)},p(u,c){c[0]&16&&(e.checked=e.__value===u[4].costReductionBonus)},d(u){u&&b(t),i[24][1].splice(i[24][1].indexOf(e),1),r=!1,g()}}}function Ke(i){let t,e,l,n=i[27]+"",o,s,r,g;return{c(){t=R("label"),e=R("input"),l=q(),o=D(n),s=D("%"),this.h()},l(u){t=B(u,"LABEL",{});var c=w(t);e=B(c,"INPUT",{type:!0,name:!0}),l=V(c),o=T(c,n),s=T(c,"%"),c.forEach(b),this.h()},h(){F(e,"type","radio"),F(e,"name","TEBonus"),e.__value=i[27],e.value=e.__value,i[24][2].push(e)},m(u,c){S(u,t,c),d(t,e),e.checked=e.__value===i[4].timeReductionBonus,d(t,l),d(t,o),d(t,s),r||(g=Z(e,"change",i[26]),r=!0)},p(u,c){c[0]&16&&(e.checked=e.__value===u[4].timeReductionBonus)},d(u){u&&b(t),i[24][2].splice(i[24][2].indexOf(e),1),r=!1,g()}}}function Ct(i){let t,e,l,n,o,s,r,g,u,c=i[6]&&we(),M=i[10],_=[];for(let f=0;f<M.length;f+=1)_[f]=Se(je(i,M,f));let k=i[9]&&Ne(i),I=i[9]&&i[5]&&Oe(i),p=i[9]&&!i[5]&&Ae(i);return{c(){t=R("span"),e=R("select"),c&&c.c(),l=z();for(let f=0;f<_.length;f+=1)_[f].c();n=q(),k&&k.c(),o=q(),I&&I.c(),s=q(),p&&p.c(),r=z(),this.h()},l(f){t=B(f,"SPAN",{class:!0});var y=w(t);e=B(y,"SELECT",{class:!0});var v=w(e);c&&c.l(v),l=z();for(let C=0;C<_.length;C+=1)_[C].l(v);v.forEach(b),n=V(y),k&&k.l(y),o=V(y),I&&I.l(y),y.forEach(b),s=V(f),p&&p.l(f),r=z(),this.h()},h(){F(e,"class","svelte-1kq2d5g"),i[0]===void 0&&st(()=>i[21].call(e)),F(t,"class","overlay-parent svelte-1kq2d5g")},m(f,y){S(f,t,y),d(t,e),c&&c.m(e,null),d(e,l);for(let v=0;v<_.length;v+=1)_[v].m(e,null);be(e,i[0]),d(t,n),k&&k.m(t,null),d(t,o),I&&I.m(t,null),S(f,s,y),p&&p.m(f,y),S(f,r,y),g||(u=Z(e,"change",i[21]),g=!0)},p(f,y){if(f[6]?c||(c=we(),c.c(),c.m(e,l)):c&&(c.d(1),c=null),y[0]&1024){M=f[10];let v;for(v=0;v<M.length;v+=1){const C=je(f,M,v);_[v]?_[v].p(C,y):(_[v]=Se(C),_[v].c(),_[v].m(e,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=M.length}y[0]&1025&&be(e,f[0]),f[9]?k?k.p(f,y):(k=Ne(f),k.c(),k.m(t,o)):k&&(k.d(1),k=null),f[9]&&f[5]?I?I.p(f,y):(I=Oe(f),I.c(),I.m(t,null)):I&&(I.d(1),I=null),f[9]&&!f[5]?p?p.p(f,y):(p=Ae(f),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:ae,o:ae,d(f){f&&b(t),c&&c.d(),$(_,f),k&&k.d(),I&&I.d(),f&&b(s),p&&p.d(f),f&&b(r),g=!1,u()}}}const _e=.01,Mt=35825,Rt=35826,Bt=35827,jt=35835,He=10;function wt(i,t,e){let l,n,o,s,r=ae,g=()=>(r(),r=nt(l,j=>e(17,s=j)),l),u,c,M;ce(i,ve,j=>e(18,u=j)),ce(i,gt,j=>e(19,c=j)),ce(i,Ee,j=>e(20,M=j)),i.$$.on_destroy.push(()=>r());let{value:_=null}=t,{allowUnselected:k=!1}=t,{selectedLocation:I=null}=t,{activity:p=null}=t,{activitySystemCostIndex:f=_e}=t,{structureRoleBonuses:y=null}=t,{activityTax:v=He}=t;function C(j){let Y={};Y[_]={},Y[_][p]=parseFloat(j.target.value),ve.update(Y)}const O=[0,-2,-2.4],E=[0,-20,-24],a=[0,-10,-12];let{structureRigBonuses:m=null}=t,{collapsed:h=!0}=t,N=[];const L=[[],[],[]];function G(){_=rt(this),e(0,_),e(6,k),e(17,s),e(10,N),e(17,s)}const K=()=>{e(5,h=!h)};function Xe(){m.materialReductionBonus=this.__value,e(4,m),e(8,o),e(16,I),e(0,_),e(17,s),e(6,k)}function Ze(){m.costReductionBonus=this.__value,e(4,m),e(8,o),e(16,I),e(0,_),e(17,s),e(6,k)}function ze(){m.timeReductionBonus=this.__value,e(4,m),e(8,o),e(16,I),e(0,_),e(17,s),e(6,k)}return i.$$set=j=>{"value"in j&&e(0,_=j.value),"allowUnselected"in j&&e(6,k=j.allowUnselected),"selectedLocation"in j&&e(16,I=j.selectedLocation),"activity"in j&&e(7,p=j.activity),"activitySystemCostIndex"in j&&e(1,f=j.activitySystemCostIndex),"structureRoleBonuses"in j&&e(2,y=j.structureRoleBonuses),"activityTax"in j&&e(3,v=j.activityTax),"structureRigBonuses"in j&&e(4,m=j.structureRigBonuses),"collapsed"in j&&e(5,h=j.collapsed)},i.$$.update=()=>{var j;if(i.$$.dirty[0]&131137&&!k&&Object.keys(s).length>0&&Object.keys(s).map(Y=>parseInt(Y)).indexOf(_)<0&&e(0,_=parseInt(Object.keys(s)[0])),i.$$.dirty[0]&131073&&e(16,I=s[_]),i.$$.dirty[0]&1048704&&e(9,n=M.activities[p]),i.$$.dirty[0]&590464&&(n?e(1,f=(j=Tt(c,I,p))!=null?j:_e):e(1,f=_e)),i.$$.dirty[0]&65537&&e(8,o=I&&!ie(_)),i.$$.dirty[0]&65920)if(o)switch(I.type_id){case Mt:e(2,y={jobDurationModifier:-15,materialConsumptionModifier:0,jobCostModifier:-3}),(p===A||p===U)&&e(2,y.materialConsumptionModifier=-1,y);break;case Rt:e(2,y={jobDurationModifier:-20,materialConsumptionModifier:0,jobCostModifier:-4}),(p===A||p===U)&&e(2,y.materialConsumptionModifier=-1,y);break;case Bt:e(2,y={jobDurationModifier:-30,materialConsumptionModifier:0,jobCostModifier:-5}),(p===A||p===U)&&e(2,y.materialConsumptionModifier=-1,y);break;case jt:e(2,y={jobDurationModifier:0,materialConsumptionModifier:0,jobCostModifier:0});break;default:e(2,y=null)}else e(2,y=null);i.$$.dirty[0]&262529&&(o&&u[_]&&u[_][p]!==void 0?e(3,v=u[_][p]):e(3,v=He)),i.$$.dirty[0]&256&&(o?e(4,m={materialReductionBonus:-2,timeReductionBonus:0,costReductionBonus:0}):e(4,m=null)),i.$$.dirty[0]&131072&&e(10,N=Object.keys(s).map(Y=>{var W;return{location_id:parseInt(Y),name:(W=s[Y])==null?void 0:W.name}}).sort((Y,W)=>Y.name&&W.name?Y.name.localeCompare(W.name):0))},g(e(11,l=ot("locations"))),[_,f,y,v,m,h,k,p,o,n,N,l,C,O,E,a,I,s,u,c,M,G,K,Xe,L,Ze,ze]}class Zt extends tt{constructor(t){super();lt(this,t,wt,Ct,it,{value:0,allowUnselected:6,selectedLocation:16,activity:7,activitySystemCostIndex:1,structureRoleBonuses:2,activityTax:3,structureRigBonuses:4,collapsed:5},null,[-1,-1])}}export{Gt as A,De as C,Ut as D,ge as E,Vt as F,Pt as G,Ee as I,Zt as L,A as M,kt as P,U as R,dt as U,mt as a,Ht as b,ht as c,Kt as d,qt as e,It as f,yt as g,At as h,Yt as i,fe as j,H as k,Lt as l,Ft as m,Xt as n};
